{"ast":null,"code":"var _jsxFileName = \"/Users/bchi000/Downloads/prabhu_example/favorite_button/src/contribution_widget/contributions/ContributionsWidget.js\";\n/*global WASABI*/\nimport React from 'react';\nimport { appendScript } from '../utils/appendScript';\nimport { removeScript } from '../utils/removeScript';\nimport './CharityWidget.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst logo = 'charity-logos.png';\nconst logoWidth = '549px';\nconst logoHeight = '145px';\nclass ContributionsWidget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.shouldDisplay = () => {\n      // Set up properties that will be the same on all Wasabi calls.\n      WASABI.setOptions({\n        'applicationName': 'contributions',\n        'experimentName': 'charity_contributions_1',\n        'protocol': 'https',\n        'host': 'experimentation.bhn.technology:443'\n      });\n\n      // Check Wasabi to see if this user should be in the test and which bucket.\n      WASABI.getAssignment({\n        'userID': this.state.userid\n      }).then(response => {\n        // This object will include the assignment made and the status, which might tell you the experiment\n        // has not been started, etc.\n        // Note that if the experiment doesn't exist or hasn't been started, response.assignment is undefined, which is OK.\n        if (response.assignment === 'control') {\n          this.setState({\n            ctbt_state: 'block'\n          });\n        } else if (response.assignment === 'test') {\n          this.setState({\n            ctbt_state: 'block'\n          });\n          WASABI.postImpression({\n            'userID': this.state.userid\n          }).then(function (response) {\n            if (response) {}\n          }, function (error) {});\n        } else {\n          this.setState({\n            ctbt_state: 'none'\n          });\n        }\n        // else the user got the Control bucket, and we don't do anything.\n      }, error => {\n        this.setState({\n          ctbt_state: 'none'\n        });\n      });\n    };\n    this.handleCheckboxChange = () => {\n      WASABI.postAction('ClickedOnContribute', null /* No extra action info */, {\n        'userID': this.state.userid\n      }).then(function (response) {\n        if (response) {}\n      }, function (error) {});\n      this.setState(prevState => ({\n        isChecked: !prevState.isChecked\n      }));\n    };\n    this.state = {\n      isChecked: false,\n      ctbt_state: 'none',\n      userid: ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16))\n    };\n  }\n  componentDidMount() {\n    appendScript(\"jq\", \"https://code.jquery.com/jquery-1.12.3.min.js\");\n    document.getElementById(\"jq\").addEventListener('load', () => {\n      appendScript(\"ws\", \"https://experimentation.bhn.technology/scripts/wasabi.js\");\n      document.getElementById(\"ws\").addEventListener('load', () => {\n        // DTM is loaded\n        this.shouldDisplay();\n      });\n    });\n  }\n  componentDidUnmount() {\n    removeScript(\"https://code.jquery.com/jquery-1.12.3.min.js\");\n    removeScript(\"https://experimentation.bhn.technology/scripts/wasabi.js\");\n  }\n  render() {\n    const {\n      isChecked\n    } = this.state;\n    const {\n      label\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"ctbt\",\n        style: {\n          display: `${this.state.ctbt_state}`\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"icon-message-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/images/Icon.png\",\n              alt: \"Icon\",\n              className: \"icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"message\",\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"charity-logos-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `charity-logo-container charity-logo-container`,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `/charitylogos/charity-logos.png`,\n                alt: `Charity Logo`,\n                className: \"charity-logo\",\n                style: {\n                  width: logoWidth,\n                  height: logoHeight\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default ContributionsWidget;","map":{"version":3,"names":["React","appendScript","removeScript","jsxDEV","_jsxDEV","logo","logoWidth","logoHeight","ContributionsWidget","Component","constructor","props","shouldDisplay","WASABI","setOptions","getAssignment","state","userid","then","response","assignment","setState","ctbt_state","postImpression","error","handleCheckboxChange","postAction","prevState","isChecked","replace","c","crypto","getRandomValues","Uint8Array","toString","componentDidMount","document","getElementById","addEventListener","componentDidUnmount","render","label","children","id","style","display","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","width","height"],"sources":["/Users/bchi000/Downloads/prabhu_example/favorite_button/src/contribution_widget/contributions/ContributionsWidget.js"],"sourcesContent":["/*global WASABI*/\r\nimport React from 'react';\r\nimport {appendScript} from '../utils/appendScript'\r\nimport { removeScript } from '../utils/removeScript'\r\nimport './CharityWidget.css';\r\n\r\nconst logo = 'charity-logos.png';\r\nconst logoWidth = '549px';\r\nconst logoHeight = '145px';\r\n\r\n\r\nclass ContributionsWidget extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      isChecked: false,\r\n      ctbt_state: 'none',\r\n      userid: ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\r\n      (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\r\n      )\r\n    };\r\n  }\r\n  componentDidMount () {\r\n    appendScript(\"jq\",\"https://code.jquery.com/jquery-1.12.3.min.js\");\r\n    document.getElementById(\"jq\").addEventListener('load', () => {\r\n      appendScript(\"ws\", \"https://experimentation.bhn.technology/scripts/wasabi.js\");\r\n      document.getElementById(\"ws\").addEventListener('load', () => {\r\n        // DTM is loaded\r\n        this.shouldDisplay();\r\n      });\r\n    });\r\n    \r\n  }\r\n  componentDidUnmount () {\r\n    removeScript(\"https://code.jquery.com/jquery-1.12.3.min.js\");\r\n    removeScript(\"https://experimentation.bhn.technology/scripts/wasabi.js\");\r\n  }\r\n\r\n  shouldDisplay = () => {\r\n    // Set up properties that will be the same on all Wasabi calls.\r\n    WASABI.setOptions({\r\n      'applicationName': 'contributions',\r\n      'experimentName': 'charity_contributions_1',\r\n      'protocol': 'https',\r\n      'host': 'experimentation.bhn.technology:443'\r\n    });\r\n\r\n    // Check Wasabi to see if this user should be in the test and which bucket.\r\n    WASABI.getAssignment({\r\n        'userID': this.state.userid\r\n    }).then(\r\n        (response) => {\r\n            \r\n            // This object will include the assignment made and the status, which might tell you the experiment\r\n            // has not been started, etc.\r\n            // Note that if the experiment doesn't exist or hasn't been started, response.assignment is undefined, which is OK.\r\n            if (response.assignment === 'control') {\r\n              this.setState({\r\n                ctbt_state: 'block'  \r\n              });\r\n                \r\n            }\r\n            else if (response.assignment === 'test') {\r\n                this.setState({\r\n                  ctbt_state: 'block'  \r\n                });\r\n               \r\n                WASABI.postImpression({\r\n                  'userID': this.state.userid\r\n                }).then(\r\n                    function(response) {\r\n                        \r\n                        if (response) {\r\n                        \r\n                        }\r\n                    },\r\n                    function(error) {\r\n                        \r\n                    }\r\n                );\r\n            } else {\r\n              this.setState({\r\n                ctbt_state: 'none'  \r\n              });\r\n             \r\n            }\r\n            // else the user got the Control bucket, and we don't do anything.\r\n        },\r\n        (error) => {\r\n            \r\n            this.setState({\r\n              ctbt_state: 'none'  \r\n            });\r\n        }\r\n    );\r\n  }\r\n  handleCheckboxChange = () => {\r\n      WASABI.postAction(\r\n          'ClickedOnContribute',\r\n          null /* No extra action info */,\r\n          {\r\n              'userID': this.state.userid\r\n          }\r\n      ).then(\r\n          function (response) {\r\n              \r\n              if (response) {\r\n                  \r\n              }\r\n          },\r\n          function (error) {\r\n             \r\n          }\r\n      );\r\n\r\n\r\n    this.setState(prevState => ({\r\n      isChecked: !prevState.isChecked\r\n    }));\r\n  };\r\n\r\n   render() {\r\n    const { isChecked } = this.state;\r\n    const { label } = this.props;\r\n\r\n     return (\r\n      <div>\r\n        <div id=\"ctbt\" style={{ display: `${this.state.ctbt_state}` }}>\r\n          <div className=\"rounded-box\">\r\n            <div className=\"icon-message-container\">\r\n              <img src=\"/images/Icon.png\" alt=\"Icon\" className=\"icon\" />\r\n              <p className=\"message\">\r\n              {label}\r\n              </p>\r\n            </div>\r\n            <div className=\"charity-logos-container\">\r\n              \r\n                <div className={`charity-logo-container charity-logo-container`}>\r\n                  <img\r\n                    src={`/charitylogos/charity-logos.png`}\r\n                    alt={`Charity Logo`}\r\n                    className=\"charity-logo\"\r\n                    style={{\r\n                      width: logoWidth,\r\n                      height: logoHeight,\r\n                    }}\r\n                  />\r\n                </div>\r\n            \r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContributionsWidget;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}